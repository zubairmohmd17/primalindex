import{_ as B,e as y,c as P,o as C,a,b as h,g as N,q as k,d as p,F as T}from"./B3KWqWP4.js";import{S as I,L}from"./Cs7AEWok.js";const F={class:"container pb-2"},j={class:"contact-form-row"},A={class:"contact-form-card"},H={class:"row gx-3"},M={class:"col-12 d-flex justify-content-center"},q={__name:"ContactForm",setup(O){const l=y(!1),i=y(!1),g=t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t),E=t=>/^[0-9]{10}$/.test(t.replace(/\s+/g,"")),n=(t,e)=>{const o=document.querySelector(t);o&&(o.textContent=e,o.style.display="block",setTimeout(()=>{o.style.display="none"},5e3))},S=async()=>{document.querySelectorAll(".errormsg").forEach(c=>c.style.display="none");const t=document.getElementById("contactform-name").value,e=document.getElementById("contactform-company").value,o=document.getElementById("contactform-email").value,m=document.getElementById("contactform-phone").value,f=document.getElementById("contactform-service").value,v=document.getElementById("contactform-needs").value;if(t===""){n("#error-contactform-name","Name cannot be blank");return}if(e===""){n("#error-contactform-company","Company name cannot be blank");return}if(o===""){n("#error-contactform-email","Email cannot be blank");return}if(!g(o)){n("#error-contactform-email","Please enter a valid email address");return}if(m===""){n("#error-contactform-phone","Phone number cannot be blank");return}if(!E(m)){n("#error-contactform-phone","Please enter a valid 10-digit phone number");return}if(f===""){n("#error-contactform-service","Please select a service");return}if(v===""){n("#error-contactform-needs","Your needs cannot be blank");return}l.value=!0;const r=document.querySelector(".contact-submit"),b=r.innerHTML;r.innerHTML="Sending...",r.disabled=!0;const x={Name:t,"Company Name":e,Email:o,"Phone Number":m,Service:f,Needs:v};let d="Hello Admin,<br><br>";d+="A new contact form has been submitted through the ContactForm component on the Primal Solutions website. Please review the details and respond accordingly.<br><br>",Object.entries(x).forEach(([c,u])=>{u&&(d+=`${c}: ${u}<br/>`)}),d+="<br><br>Best regards,<br>Primal Solutions Website";let s=`Hi ${t},<br><br>`;s+="Thank you for contacting Primal Solutions! üè•<br><br>",s+="We have received your message and our team will get back to you as soon as possible. We appreciate your interest in our services.<br><br>",s+="For any urgent queries, feel free to contact us directly. We look forward to assisting you!<br><br>",s+="Best regards,<br>Primal Solutions Team<br>";const w={adminEmail:{to:"ganeshraju@mocerohealth.in",cc:"ganeshraju@mocerohealth.in",subject:"Contact Form - Primal Solutions",html:d},userEmail:{to:o,cc:o,subject:"Thank you for contacting Primal Solutions",html:s}};try{if((await(await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).json()).status===!0)document.getElementById("contactform-name").value="",document.getElementById("contactform-company").value="",document.getElementById("contactform-email").value="",document.getElementById("contactform-phone").value="",document.getElementById("contactform-service").value="",document.getElementById("contactform-needs").value="",r.innerHTML=b,r.disabled=!1,l.value=!1,i.value=!0;else throw new Error("Failed to send emails")}catch(c){console.error("Error submitting form:",c),n("#error-contactform-name","Failed to submit message. Please try again."),r.innerHTML=b,r.disabled=!1,l.value=!1}},_=()=>{i.value=!1};return(t,e)=>(C(),P(T,null,[a("div",F,[a("div",j,[a("div",A,[e[1]||(e[1]=a("h2",{class:"text-center mb-4"},"Help Us Knowing What You Need",-1)),a("form",null,[a("div",H,[e[0]||(e[0]=N('<div class="col-sm-6 mb-3" data-v-d6d47c3a><label class="form-label" data-v-d6d47c3a>Name</label><input type="text" class="form-control" id="contactform-name" placeholder="Jack" data-v-d6d47c3a><span class="errormsg" id="error-contactform-name" data-v-d6d47c3a></span></div><div class="col-sm-6 mb-3" data-v-d6d47c3a><label class="form-label" data-v-d6d47c3a>Company Name</label><input type="text" class="form-control" id="contactform-company" placeholder="Company Name" data-v-d6d47c3a><span class="errormsg" id="error-contactform-company" data-v-d6d47c3a></span></div><div class="col-sm-6 mb-3" data-v-d6d47c3a><label class="form-label" data-v-d6d47c3a>E-mail</label><input type="email" class="form-control" id="contactform-email" placeholder="you@company-email.com" data-v-d6d47c3a><span class="errormsg" id="error-contactform-email" data-v-d6d47c3a></span></div><div class="col-sm-6 mb-3" data-v-d6d47c3a><label class="form-label" data-v-d6d47c3a>Contact No</label><input type="text" class="form-control" id="contactform-phone" placeholder="9099888777" data-v-d6d47c3a><span class="errormsg" id="error-contactform-phone" data-v-d6d47c3a></span></div><div class="col-12 mb-3" data-v-d6d47c3a><label class="form-label" data-v-d6d47c3a>Select Service</label><select class="form-select" id="contactform-service" data-v-d6d47c3a><option value="" data-v-d6d47c3a>Select a service</option><option data-v-d6d47c3a>Operations &amp; Supply Chain Excellence</option><option data-v-d6d47c3a>Advanced Automation</option><option data-v-d6d47c3a>Process Optimization &amp; Lean</option></select><span class="errormsg" id="error-contactform-service" data-v-d6d47c3a></span></div><div class="col-12 mb-4" data-v-d6d47c3a><label class="form-label" data-v-d6d47c3a>Your needs</label><textarea class="form-control" id="contactform-needs" rows="4" placeholder="Help us understand what do you need" data-v-d6d47c3a></textarea><span class="errormsg" id="error-contactform-needs" data-v-d6d47c3a></span></div>',6)),a("div",M,[a("button",{type:"button",class:"btn contact-submit",onClick:k(S,["prevent"])},"Contact Us Today ¬† ‚Üí")])])]),e[2]||(e[2]=a("p",{class:"small text-center mt-4"},[p("To learn how Clearbit handles your information,"),a("br"),p(" please see our "),a("a",{href:"/privacy-policy"},"privacy policy"),p(".")],-1))])])]),h(I,{show:i.value,onClose:_},null,8,["show"]),h(L,{isLoading:l.value},null,8,["isLoading"])],64))}},z=B(q,[["__scopeId","data-v-d6d47c3a"]]);export{z as _};
